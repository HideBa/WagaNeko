{% extends "subbase.html" %}
{% load mathfilters %}
{% load staticfiles %}

{% block title %}本の詳細{% endblock title %}

{% block content %}
<h4 class="mt-4 border-bottom">本の詳細</h4>

<table class="table table-striped table-bordered">
    <tbody>
        <tr>
            <th scope="row">本ID</th>
            <td>{{ book.id }}</td>
        </tr>
        <tr>
            <th scope="row">本の名前</th>
            <td>{{ book.book_name }}</td>
        </tr>
        <tr>
            <th scope="row">読み仮名</th>
            <td>{{ book.book_name_hiragana }}</td>
        </tr>
        <tr>
            <th scope="row">著者</th>
            <td>{{ book.author }}</td>
        </tr>
        <tr>
            <th scope="row">初版本出版年</th>
            <td>{{ book.first_published_year | default:"" }}</td>
        </tr>
        <tr>
            <th scope="row">category</th>
            <td>{{ book.category | default:""}}</td>
        </tr>
        <tr>
            <th scope="row">評価</th>
            <td>{{ book.rate |default:""}}</td>
        </tr>
        <tr>
            <th scope="row">ページ数</th>
            <td>{{ book.page_nums |default:""}}</td>
        </tr>
        <tr>
        <th scope="row">閲覧数</th>
        <td>{{ book.view_nums }}</td>
      </tr>
    </tbody>
</table>
<div class="container bg-light">
<h3>解説</h3>
{% if explanations %}
{% for i in explanations %}
  <div class="container border border-warning rounded">
   <ul>
     <li>UserName：{{i.post_user.user.username}}</li>
     <li> {{i.post_user.belong | default:"" }}</li>
       <li>
           解説：{{i.tweet}} <a href="{% url 'waganeko:delete' explanation_post_id=i.id book_id=book.id%}">削除</a>
       </li>
   </ul>
   </div>
{% endfor %}
{% endif %}
{{ book.id }}
<form action="{% url 'waganeko:post_form' book_id=book.id %}" method="POST" name="new_post">
  {% csrf_token %}
  <input type=submit class="btn btn-dark" value=投稿する>
</form>
</div>
<a href="{% url 'waganeko:book_list' %}?page={{ page }}">一覧へ戻る</a>
{% endblock %}





{% block extra_js %}
<script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"
    integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw=="
    crossorigin=""></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-tilelayer-geojson/1.0.4/TileLayer.GeoJSON.min.js"></script>
<script src="{% static 'iekari/js/map_preview.js' %}"></script>
{% endblock %}
